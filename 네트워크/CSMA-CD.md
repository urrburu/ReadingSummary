# CSMA/CD 이다.
어느 A, B 컴퓨터가 다른 컴퓨터로 스위치를 통해 [서버](https://namu.wiki/w/%EC%84%9C%EB%B2%84 "서버")로 정보를 요청한다 가정하자.

-   A, B 컴퓨터는 서버에 정보를 전송하기 위해 회선이 사용 중이지 않는지 확인. (반송파 감지 - Carrier Sense, 또는 청취)
-   양 컴퓨터는 회선이 사용 중이지 않다는 것을 확인하고 두 컴퓨터가 서버로 정보를 요청한다 (다중 접근 - Multi Access)
-   두 컴퓨터의 통신이 충돌(Collision), 신호가 퍼져나갈 때 비정상적인 증폭으로 충돌을 확인한다. (충돌 감지 - Collision Detection)
-   충돌을 확인한 전송장비가 충돌을 알린다. (충돌 신호 - Jam Signal)
-   A, B 컴퓨터는 충돌을 확인 후 백오프(Backoff) [알고리즘](https://namu.wiki/w/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98 "알고리즘")을 수행하고, 임의의 시간동안 전송을 중단한다.
-   임의의 시간이 지난 후, 다시 청취모드로 돌아가 이 과정을 충돌이 일어나지 않을 때까지 반복한다.
      
하나의 네트워크에 여러 대의 컴퓨터가 연결되어, 각자 데이터를 보내고자 한다면 반복적으로 충돌이 나게 된다. 그리고 충돌이 많아질수록 네트워크의 효율은 급격히 나빠지며 아예 네트워크를 사용할 수 없는 사태가 발생할 수도 있다.

네트워크 허브라는 것이 등장하여 네트워크의 형태가 버스형에서 스타형으로 변경되고, 허브가 업그레이드가 되어 '스위칭 허브' 또는 L2 스위치로 변경됨에 따라, 이더넷은 **실질적으로 충돌 자체가 발생하지 않는 구조**로 바뀌었다.  
  
[랜 케이블](https://namu.wiki/w/%EB%9E%9C%20%EC%BC%80%EC%9D%B4%EB%B8%94 "랜 케이블")이라고 흔히 부르는 [RJ-45](https://namu.wiki/w/RJ-45 "RJ-45") 연결단자를 사용하는 21세기의 이더넷은 이런 충돌 자체가 태생적으로 생기지 않도록 되어 있기 때문에, 10Mbps, 100Mbps를 넘어 [기가 인터넷](https://namu.wiki/w/%EA%B8%B0%EA%B0%80%20%EC%9D%B8%ED%84%B0%EB%84%B7 "기가 인터넷")같은 고속의 인터넷 서비스가 각 가정집까지 연결되는 세상이 되었다.  
  
현재의 이더넷은 충돌이 발생하지 않는 구조이지만, 과거와의 호환성 문제로 CSMA/CD는 여전히 이더넷 표준에 포함되어 있다.

CSMA/CD 매체 액세스 프로토콜을 사용하는 이더넷에서 프레임 전송 도중에 충돌이 발생할 경우에는 해당 노드들이 일정한 시간을 기다린 후에 재전송을 시도하는 데 기다리는 시간을 결정할 때에 이진 백 오프 알고리즘을 사용한다.


이 알고리즘을 사용하는 것은 재충돌 발생을 억제하기 위함이다.
충돌이 발생했다는 것은 서로 다른 두 개 이상의 스테이션이 동일한 시간대에 데이터를 송출하려 했기 때문이다.

충돌이 발생하여 재전송할 때에 충돌했던 스테이션들끼리 재충돌 확률을 줄이기 위해서 재전송을 위해 기다리는 시간들을 랜덤하게 결정하자는 것이 이 알고리즘의 기본 개념이다.

백 오프 시간을 정할 때에 전체 시간을 일정한 시간 단위로 나누어서 랜덤으로 정한 시간만큼 기다렸다가 전송을 시도하는 방법을 생각해 볼 수 있다.


백 오프 시간을 정하기 위한 또 다른 방식으로는 프레임 전송 도중에 첫 충돌이 발생하였을 경우에 그 노드는 다음 슬롯(0)과 그다음 슬롯(1)에 확률 0.5로 전송하게 된다.

여기서 슬롯은 기본단위 시간으로 생각하자.

만약 두 번째 충돌이 발생하였을 경우에는 재충돌의 확률을 줄이기 위하여 0, 1, 2, 3 슬롯들 중에서 하나를 선택하여 전송하게 되며 이때 각 슬롯을 선택할 확률은 0.25가 된다.

​

n 번의 충돌이 발생하면(0, 1, 2, ……, 2n－1) 슬롯들 중의 하나를 선택하여 프레임 전송을 시도한다. 그러나 10번 이후의 충돌이 발생하면(0, 1, 2, ……, 1,023)의 슬롯들 중에서 하나를 선택하여 전송한다.

16번의 충돌이 발생하게 되면 전송을 포기하게 된다.

# CSMA/CA
1. 프레임을 전송하고자 하는 Station은 매체가 idle인 상태가 될 때까지 기다린다.  
  
2. 만약 idle 상태가 된다면 원거리의 다른 Station이 매체를 이미 사용하고 있을 수도 있기 때문에 IFS(Interframe space)라고 부르는 시간동안 대기한다.  
  
3. IFS동안 대기한 뒤에도 idle 상태라면 Contention Window에서 랜덤한 Slot time을 갖고 대기한다.  
  
4. Slot time만큼 대기한 뒤에도 idle 상태라면 전송한 뒤 수신자로부터 ACK 메세지가 오길 기다린다. 이 때, 기다리면서 타이머를 돌리는데 타이머가 끝날 때 까지 ACK 메세지가 자신에게 오지 않으면 다시 뒤로 돌아가서 재전송을 시도한다.  
  
5. ACK 메시지가 도착하면 전송이 성공적으로 이루어졌다고 생각하고 종료한다.